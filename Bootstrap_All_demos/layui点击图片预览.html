<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="layui-v2.5.4/layui/css/layui.css"/>
<!-- <link rel="stylesheet" href="https://www.layuicdn.com/layui/css/layui.css"/>-->
    <title>layui点击图片预览</title>
</head>
<body>
<img width="200" src="https://www.tsinghua.edu.cn/__local/3/D6/43/55D1EDFDEEAC5CC4720BCF830F2_6E1BFFB2_C4429.jpg" alt="头像" onclick="previewImg(this)">
<img width="200" src="https://www.tsinghua.edu.cn/__local/B/AE/01/EBE46D66EF6F456C9AD90AA0C64_1C90A235_A66A0.png" alt="头像" onclick="previewFixImg(this)">

<br>
<br>
<br>
<div class="layer-photos-demo">
    <img width="200" src="https://www.tsinghua.edu.cn/__local/0/E9/B5/123588172AED93BD0193C0D83FA_DED4F3EB_901C6.jpg" >
    <img width="200" src="https://www.tsinghua.edu.cn/__local/F/88/B7/BD2CF43BDEABF3E8770B3597E82_3C826603_DF822.jpg" >
</div>

<br>
<br>
<br>
<div class="layer-photos-demo">
    <div>
        <img width="200" src="https://www.tsinghua.edu.cn/__local/8/3A/BB/92131D488776E063D599A283A37_BF51C7B0_2001B6.jpg" >
        <img width="200" src="https://www.tsinghua.edu.cn/__local/0/DB/2D/DBA5A25DA78C44ED8C2DE6C1A10_2423BADD_1C3823.jpg" >
    </div>
</div>
<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
<script src="layui-v2.5.4/layui/layui.all.js"></script>
<!--<script src="https://www.layuicdn.com/layui/layui.js"></script>-->
<script>
//https://blog.csdn.net/l1336037686/article/details/80819477
 var layer=layui.layer;
 function previewImg(obj) {
     var img = new Image();
     img.src = obj.src;
     var height = img.height + 50; //获取图片高度
     var width = img.width; //获取图片宽度
     var imgHtml = "<img src='" + obj.src + "' />";
     //弹出层
     layer.open({
         type: 1,
         shade: 0.8,
         offset: 'auto',
         area: [width + 'px',height+'px'],
         shadeClose:true,//点击外围关闭弹窗
         scrollbar: false,//不现实滚动条
         title: "图片预览", //不显示标题
         content: imgHtml, //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
         cancel: function () {
             //layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', { time: 5000, icon: 6 });
         }
     });
 }


 //固定预览图片大小 500 * 500
function previewFixImg(obj) {
    var img = new Image();
    img.src = obj.src;
    var imgHtml = "<img src='" + obj.src + "' width='500px' height='500px'/>";
    //弹出层
    layer.open({
        type: 1,
        shade: 0.8,
        offset: 'auto',
        area: [500 + 'px',550+'px'],
        shadeClose:true,
        scrollbar: false,
        title: "图片预览", //不显示标题
        content: imgHtml, //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
        cancel: function () {
            //layer.msg('捕获就是从页面已经存在的元素上，包裹layer的结构', { time: 5000, icon: 6 });
        }
    });
}


//图片查看器调用示例
layer.photos({
    photos: '.layer-photos-demo'
    ,shift: 0 //0-6的选择，指定弹出图片动画类型，默认随机（请注意，3.0之前的版本用shift参数）
    ,shade:0.2
});
</script>
</body>
</html>